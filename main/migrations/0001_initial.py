# Generated by Django 4.2 on 2024-08-17 09:46

import ckeditor.fields
import ckeditor_uploader.fields
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import smart_selects.db_fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Banner',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('language', models.CharField(blank=True, choices=[('kg', 'Кыргыз тили'), ('ru', 'Русский язык')], default='ru', max_length=255, null=True, verbose_name='Язык')),
                ('blog', models.CharField(choices=[('Главное', 'Главное'), ('Популярные', 'Популярные'), ('Недвижимость', 'Недвижимость'), ('Раскошный отдых', 'Раскошный отдых'), ('Продукты', 'Продукты'), ('Интервью', 'Интервью'), ('Предложение от компании', 'Предложение от компании'), ('Башкы', 'Башкы'), ('Маектешуу', 'Маектешуу'), ('Компаниядан сунуштар', 'Компаниядан сунуштар'), ('Люкс майрам', 'Люкс майрам'), ('Кыймылсыз мулк', 'Кыймылсыз мулк'), ('Популярдуу', 'Популярдуу'), ('Продукттар', 'Продукттар')], max_length=255, verbose_name='Блог')),
                ('image', models.ImageField(blank=True, null=True, upload_to='slider/', verbose_name='Баннер для ПК Версии')),
                ('img', models.ImageField(blank=True, null=True, upload_to='slider/', verbose_name='Баннер для Моб Версии')),
                ('date', models.DateField(verbose_name='Дата истечение')),
            ],
            options={
                'verbose_name': '',
                'verbose_name_plural': 'Банер',
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('language', models.CharField(blank=True, choices=[('kg', 'Кыргыз тили'), ('ru', 'Русский язык')], default='ru', max_length=255, null=True, verbose_name='Язык')),
                ('title', models.CharField(blank=True, max_length=255, null=True, unique=True, verbose_name='Название')),
                ('is_active', models.BooleanField(verbose_name='Статус')),
                ('slug', models.SlugField(blank=True, editable=False, null=True, verbose_name='Слаг')),
            ],
            options={
                'verbose_name': '',
                'verbose_name_plural': 'Каталог',
            },
        ),
        migrations.CreateModel(
            name='Post',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('language', models.CharField(blank=True, choices=[('kg', 'Кыргыз тили'), ('ru', 'Русский язык')], default='ru', max_length=255, null=True, verbose_name='Язык')),
                ('title', models.CharField(max_length=255, verbose_name='Название')),
                ('is_main', models.CharField(blank=True, choices=[('1', 'Позиция 1'), ('2', 'Позиция 2'), ('3', 'Позиция 3')], max_length=255, null=True, verbose_name='Позиция')),
                ('img', models.ImageField(blank=True, null=True, upload_to='post/%Y_%m/', verbose_name='Изображение')),
                ('is_active', models.BooleanField(default=False, verbose_name='Опубликовать')),
                ('tags', models.CharField(blank=True, max_length=255, null=True, verbose_name='Теги')),
                ('slug', models.SlugField(blank=True, editable=False, max_length=1000, null=True, unique=True, verbose_name='Слаг')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Дата добавление')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Дата обновление')),
                ('views', models.PositiveIntegerField(default=0, editable=False, verbose_name='Просмотры')),
                ('cat', smart_selects.db_fields.ChainedForeignKey(auto_choose=True, chained_field='language', chained_model_field='language', on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='main.category', verbose_name='категория')),
            ],
            options={
                'verbose_name': '',
                'verbose_name_plural': 'Статьи',
                'ordering': ['-updated_at'],
            },
        ),
        migrations.CreateModel(
            name='Status',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('language', models.CharField(blank=True, choices=[('kg', 'Кыргыз тили'), ('ru', 'Русский язык')], default='ru', max_length=255, null=True, verbose_name='Язык')),
                ('blog', models.CharField(blank=True, choices=[('Популярные', 'Популярные'), ('Недвижимость', 'Недвижимость'), ('Раскошный отдых', 'Раскошный отдых'), ('Продукты', 'Продукты'), ('Интервью', 'Интервью'), ('Предложение от компании', 'Предложение от компании'), ('Маектешуу', 'Маектешуу'), ('Компаниядан сунуштар', 'Компаниядан сунуштар'), ('Люкс майрам', 'Люкс майрам'), ('Кыймылсыз мулк', 'Кыймылсыз мулк'), ('Популярдуу', 'Популярдуу'), ('Продукттар', 'Продукттар')], max_length=255, null=True, verbose_name='Показать в блоке')),
            ],
            options={
                'verbose_name': '',
                'verbose_name_plural': 'Блог',
            },
        ),
        migrations.CreateModel(
            name='SubCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, max_length=255, null=True, verbose_name='Название')),
                ('slug', models.SlugField(blank=True, editable=False, null=True, verbose_name='Слаг')),
                ('cat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subcategory', to='main.category', verbose_name='Шапка')),
            ],
            options={
                'verbose_name': '',
                'verbose_name_plural': 'Подкатегории',
            },
        ),
        migrations.CreateModel(
            name='PostSlider',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(blank=True, null=True, upload_to='', verbose_name='Изображение')),
                ('slider', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='slider', to='main.post')),
            ],
            options={
                'verbose_name': 'Слайдер',
                'verbose_name_plural': 'Слайдер',
            },
        ),
        migrations.CreateModel(
            name='PostFile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, max_length=255, null=True, verbose_name='Заголовок')),
                ('file', models.FileField(blank=True, null=True, upload_to='uploads/file', verbose_name='Прикрепить файл')),
                ('exception', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='exception', to='main.post')),
            ],
            options={
                'verbose_name': 'Дополнительно',
                'verbose_name_plural': 'Дополнительно',
            },
        ),
        migrations.CreateModel(
            name='PostDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', ckeditor_uploader.fields.RichTextUploadingField(blank=True, null=True, verbose_name='Подробнее')),
                ('main', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detail', to='main.post')),
            ],
            options={
                'verbose_name': 'Контент',
                'verbose_name_plural': 'Контент',
            },
        ),
        migrations.AddField(
            model_name='post',
            name='status',
            field=smart_selects.db_fields.ChainedForeignKey(auto_choose=True, blank=True, chained_field='language', chained_model_field='language', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='main.status', verbose_name='Показывать в блоге'),
        ),
        migrations.AddField(
            model_name='post',
            name='sub_cat',
            field=smart_selects.db_fields.ChainedForeignKey(auto_choose=True, blank=True, chained_field='cat', chained_model_field='cat', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='resident', to='main.subcategory', verbose_name='Подкатегория'),
        ),
        migrations.AddField(
            model_name='post',
            name='user',
            field=models.ForeignKey(editable=False, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Пользователь'),
        ),
        migrations.CreateModel(
            name='Comments',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('user', models.CharField(max_length=30, verbose_name='Имя')),
                ('comment', ckeditor.fields.RichTextField(verbose_name='Комментарии')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='создано')),
                ('is_active', models.BooleanField(default=False, verbose_name='Опубликовать')),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comment', to='main.post', verbose_name='статья')),
            ],
            options={
                'verbose_name': '',
                'verbose_name_plural': 'Комментарии',
            },
        ),
    ]
